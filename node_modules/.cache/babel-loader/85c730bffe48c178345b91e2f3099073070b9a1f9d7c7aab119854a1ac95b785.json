{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst STORAGE_KEY = 'dera_soft_entries';\nexport function useEntries() {\n  _s();\n  const [entries, setEntries] = useState(() => {\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      return saved ? JSON.parse(saved) : [];\n    } catch (e) {\n      console.error('Failed to load entries', e);\n      return [];\n    }\n  });\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(entries));\n  }, [entries]);\n  const addEntry = (name, amount) => {\n    const newEntry = {\n      id: Date.now().toString(),\n      name: name.trim(),\n      amount: parseFloat(amount),\n      date: new Date().toISOString()\n    };\n    setEntries([newEntry, ...entries]);\n    return true;\n  };\n  const deleteEntry = id => {\n    if (window.confirm('Are you sure you want to delete this entry?')) {\n      setEntries(entries.filter(entry => entry.id !== id));\n      return true;\n    }\n    return false;\n  };\n  const totalAmount = entries.reduce((sum, entry) => sum + entry.amount, 0);\n\n  // Stats logic\n  const userStats = entries.reduce((acc, entry) => {\n    const name = entry.name;\n    if (!acc[name]) {\n      acc[name] = {\n        total: 0,\n        count: 0,\n        lastDate: null,\n        entries: []\n      };\n    }\n    acc[name].total += entry.amount;\n    acc[name].count += 1;\n    acc[name].lastDate = entry.date;\n    acc[name].entries.push(entry);\n    return acc;\n  }, {});\n\n  // Sort stats by total amount (highest first)\n  const sortedUserStats = Object.entries(userStats).sort(([, a], [, b]) => b.total - a.total).map(([name, data]) => ({\n    name,\n    ...data\n  }));\n  return {\n    entries,\n    addEntry,\n    deleteEntry,\n    totalAmount,\n    userStats: sortedUserStats\n  };\n}\n_s(useEntries, \"3LAIIq6Vd5KDYgjq1ZfezUGGb8c=\");","map":{"version":3,"names":["useState","useEffect","STORAGE_KEY","useEntries","_s","entries","setEntries","saved","localStorage","getItem","JSON","parse","e","console","error","setItem","stringify","addEntry","name","amount","newEntry","id","Date","now","toString","trim","parseFloat","date","toISOString","deleteEntry","window","confirm","filter","entry","totalAmount","reduce","sum","userStats","acc","total","count","lastDate","push","sortedUserStats","Object","sort","a","b","map","data"],"sources":["C:/Users/Windows/OneDrive/Desktop/New folder (2)/dera-soft/src/hooks/useEntries.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst STORAGE_KEY = 'dera_soft_entries';\n\nexport function useEntries() {\n  const [entries, setEntries] = useState(() => {\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      return saved ? JSON.parse(saved) : [];\n    } catch (e) {\n      console.error('Failed to load entries', e);\n      return [];\n    }\n  });\n\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(entries));\n  }, [entries]);\n\n  const addEntry = (name, amount) => {\n    const newEntry = {\n      id: Date.now().toString(),\n      name: name.trim(),\n      amount: parseFloat(amount),\n      date: new Date().toISOString(),\n    };\n    setEntries([newEntry, ...entries]);\n    return true;\n  };\n\n  const deleteEntry = (id) => {\n    if (window.confirm('Are you sure you want to delete this entry?')) {\n      setEntries(entries.filter(entry => entry.id !== id));\n      return true;\n    }\n    return false;\n  };\n\n  const totalAmount = entries.reduce((sum, entry) => sum + entry.amount, 0);\n\n  // Stats logic\n  const userStats = entries.reduce((acc, entry) => {\n    const name = entry.name;\n    if (!acc[name]) {\n      acc[name] = { total: 0, count: 0, lastDate: null, entries: [] };\n    }\n    acc[name].total += entry.amount;\n    acc[name].count += 1;\n    acc[name].lastDate = entry.date;\n    acc[name].entries.push(entry);\n    return acc;\n  }, {});\n\n  // Sort stats by total amount (highest first)\n  const sortedUserStats = Object.entries(userStats)\n    .sort(([, a], [, b]) => b.total - a.total)\n    .map(([name, data]) => ({ name, ...data }));\n\n  return {\n    entries,\n    addEntry,\n    deleteEntry,\n    totalAmount,\n    userStats: sortedUserStats\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}