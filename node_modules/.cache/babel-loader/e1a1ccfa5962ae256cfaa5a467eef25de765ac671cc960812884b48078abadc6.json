{"ast":null,"code":"import _objectSpread from\"C:/Users/Windows/OneDrive/Desktop/New folder (2)/dera-soft/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from'react';const STORAGE_KEY='dera_soft_entries';export function useEntries(){const[entries,setEntries]=useState(()=>{try{const saved=localStorage.getItem(STORAGE_KEY);return saved?JSON.parse(saved):[];}catch(e){console.error('Failed to load entries',e);return[];}});useEffect(()=>{localStorage.setItem(STORAGE_KEY,JSON.stringify(entries));},[entries]);const addEntry=(name,amount)=>{const newEntry={id:Date.now().toString(),name:name.trim(),amount:parseFloat(amount),date:new Date().toISOString()};setEntries([newEntry,...entries]);return true;};const deleteEntry=id=>{if(window.confirm('Are you sure you want to delete this entry?')){setEntries(entries.filter(entry=>entry.id!==id));return true;}return false;};const totalAmount=entries.reduce((sum,entry)=>sum+entry.amount,0);// Stats logic\nconst userStats=entries.reduce((acc,entry)=>{const name=entry.name;if(!acc[name]){acc[name]={total:0,count:0,lastDate:null,entries:[]};}acc[name].total+=entry.amount;acc[name].count+=1;acc[name].lastDate=entry.date;acc[name].entries.push(entry);return acc;},{});// Sort stats by total amount (highest first)\nconst sortedUserStats=Object.entries(userStats).sort((_ref,_ref2)=>{let[,a]=_ref;let[,b]=_ref2;return b.total-a.total;}).map(_ref3=>{let[name,data]=_ref3;return _objectSpread({name},data);});return{entries,addEntry,deleteEntry,totalAmount,userStats:sortedUserStats};}","map":{"version":3,"names":["useState","useEffect","STORAGE_KEY","useEntries","entries","setEntries","saved","localStorage","getItem","JSON","parse","e","console","error","setItem","stringify","addEntry","name","amount","newEntry","id","Date","now","toString","trim","parseFloat","date","toISOString","deleteEntry","window","confirm","filter","entry","totalAmount","reduce","sum","userStats","acc","total","count","lastDate","push","sortedUserStats","Object","sort","_ref","_ref2","a","b","map","_ref3","data","_objectSpread"],"sources":["C:/Users/Windows/OneDrive/Desktop/New folder (2)/dera-soft/src/hooks/useEntries.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst STORAGE_KEY = 'dera_soft_entries';\n\nexport function useEntries() {\n  const [entries, setEntries] = useState(() => {\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      return saved ? JSON.parse(saved) : [];\n    } catch (e) {\n      console.error('Failed to load entries', e);\n      return [];\n    }\n  });\n\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(entries));\n  }, [entries]);\n\n  const addEntry = (name, amount) => {\n    const newEntry = {\n      id: Date.now().toString(),\n      name: name.trim(),\n      amount: parseFloat(amount),\n      date: new Date().toISOString(),\n    };\n    setEntries([newEntry, ...entries]);\n    return true;\n  };\n\n  const deleteEntry = (id) => {\n    if (window.confirm('Are you sure you want to delete this entry?')) {\n      setEntries(entries.filter(entry => entry.id !== id));\n      return true;\n    }\n    return false;\n  };\n\n  const totalAmount = entries.reduce((sum, entry) => sum + entry.amount, 0);\n\n  // Stats logic\n  const userStats = entries.reduce((acc, entry) => {\n    const name = entry.name;\n    if (!acc[name]) {\n      acc[name] = { total: 0, count: 0, lastDate: null, entries: [] };\n    }\n    acc[name].total += entry.amount;\n    acc[name].count += 1;\n    acc[name].lastDate = entry.date;\n    acc[name].entries.push(entry);\n    return acc;\n  }, {});\n\n  // Sort stats by total amount (highest first)\n  const sortedUserStats = Object.entries(userStats)\n    .sort(([, a], [, b]) => b.total - a.total)\n    .map(([name, data]) => ({ name, ...data }));\n\n  return {\n    entries,\n    addEntry,\n    deleteEntry,\n    totalAmount,\n    userStats: sortedUserStats\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}